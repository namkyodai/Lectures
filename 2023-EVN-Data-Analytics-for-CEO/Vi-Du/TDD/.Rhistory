342*51
342*23000
361*23000
install.packages("devtools")
library(devtools)
install.packages("tinytex")
install.packages("caTools")
library(devtools)
install.packages('knitr', dependencies = TRUE)
install.packages(
"https://github.com/gagolews/stringi/raw/master/devel/winbuilder/3.5/stringi_1.2.4.zip",
repos = NULL,
)
install.packages('knitr', dependencies = TRUE)
library(knitr)
install.packages("MASS")
install.packages("rpart")
install.packages("caTools")
install.packages("C:/Users/namlt/Downloads/caTools_1.17.1.4.zip", repos = NULL, type = "win.binary")
install.packages("bookdown")
install.packages("stargazer")
install.packages("kableExtra")
install.packages("C:/Users/namlt/Downloads/farver_2.0.1.zip", repos = NULL, type = "win.binary")
install.packages("plotly")
7-4.3
6500000000*0.07
500/12
59*51
50/15
50/15*51
116000/4
1160000/4
1116000/4
837000/3
3600/51
4600/51
source('E:/Dropbox/workspace/RProjects/BusinessAnalytics/TDD/tdd.R')
setwd("E:/Dropbox/workspace/RProjects/BusinessAnalytics/TDD")
source('E:/Dropbox/workspace/RProjects/BusinessAnalytics/TDD/tdd.R')
Capex
View(Capex)
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)
df
df<-melt(df,value.name = "Disciplines")
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)
df<-melt(df,id.vars = "Disciplines")
df
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)
df
x = data.frame(
id   = c(1, 1, 2, 2),
blue = c(1, 0, 1, 0),
red  = c(0, 1, 0, 1)
)
x
melt(data = x, id.vars = "id", measure.vars = c("blue", "red"))
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)
df<-melt(df,id.vars = "Disciplines",measure.vars = c("NPVCapex", "InterYear"))
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)
df
df<-melt(df,id.vars = "InterYear",measure.vars = c("NPVCapex", "Disciplines"))
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)
df1<-melt(df,id.vars = "InterYear",measure.vars = c("NPVCapex", "Disciplines"))
df1
df1<-melt(data=df,id.vars = "InterYear",measure.vars = c("NPVCapex", "Disciplines"))
df
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(InterYear)
df
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df
View(df)
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df
df<-melt(df,id=c("InterYear","NPVCapex"))
df
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df<-melt(df,id=c("Disciplines","NPVCapex"))
df
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df1<-melt(df,id=c("NPVCapex","Disciplines"))
df1
df1<-melt(df,id=c("InterYear","Disciplines"))
df1<-melt(df,id=c("InterYear","Disciplines"))
df1<-melt(df,id=c("InterYear","Disciplines"))
df1
df2<-cast(df1,Disciplines~InterYear)
df2<-cast(df1,Disciplines~InterYear,sum)
df
df2
source('E:/Dropbox/workspace/RProjects/BusinessAnalytics/TDD/tdd.R')
df2<-cast(df1,Disciplines~InterYear,sum)
df2
View(df2)
df2<-cast(df1,Disciplines~InterYear,sum)%>%
adorn_totals()
df2
View(df2)
df2<-cast(df1,Disciplines~InterYear,sum)%>%
mutate(immediate='0',shortterm='1'+'2'+'3')%>%
adorn_totals()
df2
df2$`0`
df2$[,c(1:3)]
df2$[,seq(1:3)]
df2$[,1]
df2[,1]
df2[,c(1:3)]
df2[,c(2:3)]
df2[,c(1:3)]
df2<-cast(df1,Disciplines~InterYear,sum)%>%
mutate(immediate=`0`,shortterm=`1`+`2`+`3`,mediumterm=)%>%
adorn_totals()
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df1<-melt(df,id=c("InterYear","Disciplines"))
df2<-cast(df1,Disciplines~InterYear,sum)%>%
mutate(immediate=`0`,shortterm=`1`+`2`+`3`,mediumterm=)%>%
adorn_totals()
df2<-cast(df1,Disciplines~InterYear,sum)%>%
mutate(immediate=`0`,shortterm=`1`+`2`+`3`)%>%
adorn_totals()
df2
View(Capex)
View(plot01)
View(df2)
df2<-cast(df1,Disciplines~InterYear,sum)
df
df1<-melt(df,id=c("InterYear","Disciplines"))
df2<-cast(df1,Disciplines~InterYear,sum)
df
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df1<-melt(df,id=c("InterYear","Disciplines"))
df2<-cast(df1,Disciplines~InterYear,sum)
df1
df2
df2
df2[,2]
df2[,1]
df2[1,]
df2[,2]
df3<-df2%>%
mutate(immediate=df2[,2])
df3
mutate(immediate=df2[,2],shortterm=sum(df2[,c(3:5)])
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=sum(df2[,c(3:5)]))
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df1<-melt(df,id=c("InterYear","Disciplines"))
df2<-cast(df1,Disciplines~InterYear,sum)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=sum(df2[,c(3:5)]))
df3
df2
a<-sum(df2[,2:3])
a
a<-(df2[,2:3])
a
a<-rowSums(df2[,2:3])
a
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:5)]))
df3
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:5)]),mediumterm=rowSums(df2[,c(6:10)]))
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df1<-melt(df,id=c("InterYear","Disciplines"))
df2<-cast(df1,Disciplines~InterYear,sum)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:5)]),mediumterm=rowSums(df2[,c(6:10)]))%>%
adorn_totals()
df3
View(df3)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:4)]),mediumterm=rowSums(df2[,c(5:7)]),longterm=rowSums(df2[,c(8:11)]))%>%
adorn_totals()
df3
View(df3)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:4)]),mediumterm=rowSums(df2[,c(5:7)]),longterm=rowSums(df2[,c(8:11)]),CAPEX=rowSums(df2[,c(2:11)]))%>%
adorn_totals()
df3
View(df3)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:4)]),mediumterm=rowSums(df2[,c(5:7)]),longterm=rowSums(df2[,c(8:11)]),CAPEX=rowSums(df2[,c(2:11)]))%>%
mutate(freq = CAPEX / sum(CAPEX))%>%
adorn_totals()
df3
View(df3)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:4)]),mediumterm=rowSums(df2[,c(5:7)]),longterm=rowSums(df2[,c(8:11)]),CAPEX=rowSums(df2[,c(2:11)]))%>%
mutate(freq = 100*CAPEX / sum(CAPEX))%>%
adorn_totals()
df3
View(df3)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:4)]),mediumterm=rowSums(df2[,c(5:7)]),longterm=rowSums(df2[,c(8:11)]),CAPEX=rowSums(df2[,c(2:11)]))%>%
mutate(freq = 100*CAPEX / sum(CAPEX))%>%
arrange(desc(CAPEX))%>%
adorn_totals()
df3
df2
df1
df2
plotdf3 <- ggplot(df3)+
geom_bar(aes(x = df3[,c(2:5)], y = summarise(df3[,c(2:5)]),fill=Disciplines),
stat='identity')
plotdf3
df4<-melt(df,id=c("Disciplines","InterYear"))
df4
text <- "ElemId total_count coef_true coef_false coef_ratio
1   a1           2         2          0          1
2   a2           4         4          0          1
3   a3           1         1          0          1
4   a4           5         5          0          1
5   a5           1         1          5          1
6   a6           4         4          0          1
7   a7           4         4          3          1
8   a8           2         2          2          1
9   a9           3         3          1          1
10  a10          1         1          4          0"
df4 <- read.table(text = text, header = TRUE, stringsAsFactors = FALSE)
df4
df5 %>%
gather(key, value, -c(coef_ratio, ElemId, total_count)) %>%
ggplot(aes(reorder(ElemId, coef_ratio), value)) +
geom_col(aes(fill = key)) +
labs(x = "ElemId reordered by coef_ratio")
df4 %>%
gather(key, value, -c(coef_ratio, ElemId, total_count)) %>%
ggplot(aes(reorder(ElemId, coef_ratio), value)) +
geom_col(aes(fill = key)) +
labs(x = "ElemId reordered by coef_ratio")
df4
specie <- c(rep("sorgho" , 3) , rep("poacee" , 3) , rep("banana" , 3) , rep("triticum" , 3) )
condition <- rep(c("normal" , "stress" , "Nitrogen") , 4)
value <- abs(rnorm(12 , 0 , 15))
data <- data.frame(specie,condition,value)
View(data)
df3
counts <- table(mtcars$vs, mtcars$gear)
counts
barplot(counts, main="Car Distribution by Gears and VS",
xlab="Number of Gears", col=c("darkblue","red"),
legend = rownames(counts))
barplot(df3, main="Car Distribution by Gears and VS",
xlab="Number of Gears", col=c("darkblue","red"),
legend = rownames(df3))
df3
mtcars$vs
mtcars$gear
counts <- table(df3$CAPEX, df3$CAPEX)
counts
counts <- table(df3$CAPEX, df3$Disciplines)
counts
counts <- table(df3$Disciplines, df3$CAPEX)
counts
barplot(counts, main="Car Distribution by Gears and VS",
xlab="Number of Gears", col=c("darkblue","red"),
legend = rownames(counts))
df3
knitr::opts_chunk$set(echo = TRUE)
source("tdd.R")
library(knitr)
library(kableExtra)
datatable(df3,filter = 'top') %>%
formatRound(columns=c(2:11),digits=0)%>%
formatStyle('CAPEX',  color = 'red', backgroundColor = 'orange', fontWeight = 'bold')
View(df4)
View(df3)
source("tdd.R")
library(knitr)
library(kableExtra)
datatable(df3,filter = 'top',options = list(pageLength = 25)) %>%
formatRound(columns=c(2:17),digits=2)%>%
formatStyle('CAPEX',  color = 'red', backgroundColor = 'orange', fontWeight = 'bold')%>%      formatStyle('Disciplines', target = 'row',  backgroundColor = styleEqual('Total', 'yellow'))
capex
View(Capex)
df5<-Capex%>%
adorn_totals()
df5
df
sum(Capex)
sum(NPVCapex)
sum(df$NPVCapex)
sum(df2$NPVCapex)
df2
df<-Capex%>%
select(InterYear,Disciplines,NPVCapex)%>%
group_by(Disciplines)
df1<-melt(df,id=c("InterYear","Disciplines"))
df2<-cast(df1,Disciplines~InterYear,sum)
df3<-df2%>%
mutate(immediate=df2[,2],shortterm=rowSums(df2[,c(3:4)]),mediumterm=rowSums(df2[,c(5:7)]),longterm=rowSums(df2[,c(8:12)]),CAPEX=rowSums(df2[,c(2:12)]))%>%
mutate(freq = 100*CAPEX / sum(CAPEX))%>%
arrange(desc(CAPEX))%>%
adorn_totals()
sum(df3$CAPEX)
df3
source('E:/Dropbox/workspace/RProjects/BusinessAnalytics/TDD/tdd.R')
df3
Capex
source("tdd.R")
library(knitr)
library(kableExtra)
datatable(Capex,filter = 'top') %>%
formatRound(columns=c('Quantity','UnitCost','NPVCapex'),digits=0)%>%
formatStyle('NPVCapex',  color = 'red', backgroundColor = 'orange', fontWeight = 'bold')
cat("Total Value =",format(sum(Capex$NPVCapex),digits=5, big.mark=",", small.mark = ".",small.interval=3),"$")
install.packages("RPostgres")
install.packages("RPostgreSQL")
library(DBI)
con <- dbConnect(RPostgres::Postgres())
